---
import { getCollection } from "astro:content";
import ContentListLayout from "@/layouts/ContentListLayout.astro";
import ContentCard from "@/components/ContentCard.astro";

const research = (await getCollection("research"))
  .filter(r => r.data.isPublished)
  .sort((a, b) => b.data.publishedAt.getTime() - a.data.publishedAt.getTime());
---

<ContentListLayout
  title="Research"
  pageTitle="Research | Siddhant Shah"
  description="Published papers, preprints, and academic contributions."
  contentType="research"
>
  {research.length === 0 && <p class="text-neutral-400">No publications yet. Stay tuned!</p>}
  {research.map(paper => (
    <ContentCard
      type="research"
      slug={paper.slug}
      title={paper.data.title}
      description={paper.data.description}
      publishedAt={paper.data.publishedAt}
      authors={paper.data.authors}
      publication={paper.data.publication}
      doi={paper.data.doi}
      arxiv={paper.data.arxiv}
      tags={paper.data.tags}
    />
  ))}
</ContentListLayout>
