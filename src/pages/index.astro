---
import { getCollection } from "astro:content";

import HomeLayout from "@/layouts/HomeLayout.astro";
import SocialLinks from "@/components/SocialLinks.astro";
import ContentCard from "@/components/ContentCard.astro";
import Link from "@/components/shared/Link.astro";
import PersonSchema from "@/components/seo/PersonSchema.astro";
import convertAsteriskToStrongTag from "@/utils/convertAsteriskToStrongTag";

import presentation from "@/data/presentation";

const posts = (await getCollection("blog")).filter(p => !p.data.isDraft).sort(function (first, second) {
  return second.data.publishedAt.getTime() - first.data.publishedAt.getTime();
});
const projects = (await getCollection("projects")).sort(function (first, second) {
  return second.data.publishedAt.getTime() - first.data.publishedAt.getTime();
});
const research = (await getCollection("research")).filter(r => r.data.isPublished).sort(function (first, second) {
  return second.data.publishedAt.getTime() - first.data.publishedAt.getTime();
});

const seoDescription = "Siddhant Shah - Research Assistant at Boston University specializing in quantitative finance, machine learning, and data analytics. Published researcher in trading strategies and portfolio optimization.";
---

<HomeLayout
  title="Siddhant Shah | Quantitative Research & Data Analytics"
  description={seoDescription}
  canonical="/"
>
  <PersonSchema slot="head" />

  <main class="flex flex-col gap-16">
    <!-- Hero Section -->
    <article class="glass-card p-8 md:p-12 relative overflow-hidden">
      <div class="flex flex-col gap-8">
        <div class="flex w-full flex-col gap-4">
          <h1 class="text-5xl md:text-6xl font-bold text-finance-cyan">Siddhant Shah</h1>
          <div class="h-px w-24 bg-gradient-to-r from-finance-cyan/60 to-transparent"></div>
        </div>
        <h2
          class="w-auto max-w-[70ch] text-xl md:text-2xl leading-relaxed text-neutral-300"
          set:html={convertAsteriskToStrongTag(presentation.description)}
        />
        <div class="flex flex-wrap gap-3 mt-2 text-sm text-neutral-400">
          <span>Research</span>
          <span>•</span>
          <span>Machine Learning</span>
          <span>•</span>
          <span>Data Analytics</span>
          <span>•</span>
          <span>Python, R, SQL</span>
        </div>
        <SocialLinks />
      </div>
    </article>

    <!-- Current Work - Research Assistant -->
    <article class="flex flex-col gap-6">
      <header class="flex w-full flex-row flex-wrap justify-between items-center gap-2">
        <h3 class="text-2xl md:text-3xl font-bold text-white">Current Role</h3>
        <Link href="./experience" label="See All Experience" isUnderline='True' />
      </header>
      <div class="glass-card p-6 md:p-8 flex flex-col gap-4">
        <div>
          <div class="flex w-full items-start justify-between flex-wrap gap-3">
            <h4 class="text-xl md:text-2xl font-bold text-white">
              <a href="https://www.bu.edu" class="hover:text-finance-cyan transition-colors">
                Boston University, Department of Computer Science
              </a>
            </h4>
            <p class="text-neutral-500 text-sm">Oct 2024 - Present</p>
          </div>
          <h5 class="text-lg text-neutral-300 font-medium mt-2">Research Assistant</h5>
          <ul class="list-disc pl-6 mt-4 space-y-2 text-neutral-300 leading-relaxed">
            <li>Developed proprietary trading strategies with mean-variance optimization across 9 sector ETFs, implementing risk-constrained portfolio construction and performance analytics (Sharpe ratios, drawdowns, transaction costs)</li>
            <li>Published 3 research papers on trading strategies in leading journals (Stocks & Commodities Magazine, MLAIJ)</li>
            <li>Achieved 19.9% annualized returns on crude oil momentum strategies and 68.65% returns on cross-asset Bitcoin trading over multi-year backtests</li>
          </ul>
          <div class="mt-4 pt-4 border-t border-glass-border">
            <p class="text-sm text-neutral-400">
              <span class="text-finance-cyan font-semibold">Skills:</span> Python, R, SQL, Pandas, NumPy, scikit-learn, PyTorch, Backtesting, Portfolio Optimization
            </p>
          </div>
        </div>
      </div>
    </article>

    <!-- Technical Skills -->
    <article class="flex flex-col gap-6">
      <header>
        <h3 class="text-2xl md:text-3xl font-bold text-white">Technical Expertise</h3>
      </header>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="glass-card p-6">
          <h4 class="text-lg font-semibold text-white mb-3">Programming & Tools</h4>
          <ul class="space-y-2 text-neutral-400 text-sm">
            <li>Python (Pandas, NumPy, scikit-learn, PyTorch)</li>
            <li>R (Statistical Analysis & Visualization)</li>
            <li>SQL, PySpark, KDB+/q</li>
            <li>Git, LaTeX, Advanced Excel/VBA</li>
          </ul>
        </div>
        <div class="glass-card p-6">
          <h4 class="text-lg font-semibold text-white mb-3">Certifications & Education</h4>
          <ul class="space-y-2 text-neutral-400 text-sm">
            <li>Cleared Level 1 of the CFA Program </li>
            <li>MS in Applied Data Analytics (Boston University)</li>
            <li>BS in Mathematics & CS (Chennai Mathematical Institute)</li>
          </ul>
        </div>
        <div class="glass-card p-6">
          <h4 class="text-lg font-semibold text-white mb-3">Quantitative Finance</h4>
          <ul class="space-y-2 text-neutral-400 text-sm">
            <li>Portfolio Optimization & Risk Management</li>
            <li>Algorithmic Trading Strategy Development</li>
            <li>Statistical Arbitrage & Alpha Generation</li>
            <li>Backtesting & Performance Attribution</li>
          </ul>
        </div>
        <div class="glass-card p-6">
          <h4 class="text-lg font-semibold text-white mb-3">Machine Learning & Data Science</h4>
          <ul class="space-y-2 text-neutral-400 text-sm">
            <li>Ensemble Methods & Random Forests</li>
            <li>Time-Series Analysis & Forecasting</li>
            <li>Feature Engineering & Model Optimization</li>
            <li>Statistical Modeling & Hypothesis Testing</li>
          </ul>
        </div>
      </div>
    </article>

    <!-- Blog Posts -->
    <article class="flex flex-col gap-8">
      <header class="flex w-full flex-row flex-wrap justify-between items-center gap-2">
        <h3 class="text-2xl md:text-3xl font-bold text-white">Latest Posts</h3>
        <Link href="./blog" label="See All Posts" isUnderline='True' />
      </header>
      {posts.length === 0 && <p>Soon, stay connected...</p>}
      <section class="flex flex-col gap-2 md:flex-row md:flex-wrap">
        {
          posts.length !== 0 &&
            posts
              .slice(0, 2)
              .map((post) => (
                <ContentCard
                  type="blog"
                  slug={post.slug}
                  title={post.data.title}
                  description={post.data.description}
                  publishedAt={post.data.publishedAt}
                />
              ))
        }
      </section>
    </article>

    <!-- Key Projects -->
    <article class="flex flex-col gap-8">
      <header class="flex w-full flex-row flex-wrap justify-between items-center gap-2">
        <h3 class="text-2xl md:text-3xl font-bold text-white">Featured Projects</h3>
        <Link href="./projects" label="See All Projects" isUnderline='True' />
      </header>
      <section class="flex flex-col gap-4 md:flex-row md:flex-wrap">
        {
          projects.length !== 0 &&
            projects
              .slice(0, 3)
              .map((project) => (
                <ContentCard
                  type="projects"
                  slug={project.slug}
                  title={project.data.title}
                  description={project.data.description}
                  publishedAt={project.data.publishedAt}
                />
              ))
        }
      </section>
    </article>

    <!-- Research Publications -->
    <article class="flex flex-col gap-8">
      <header class="flex w-full flex-row flex-wrap justify-between items-center gap-2">
        <h3 class="text-2xl md:text-3xl font-bold text-white">Published Research</h3>
        <Link href="./research" label="See All Publications" isUnderline='True' />
      </header>
      {research.length !== 0 && (
        <section class="flex flex-col gap-4">
          {research.slice(0, 3).map((paper) => (
            <ContentCard
              type="research"
              slug={paper.slug}
              title={paper.data.title}
              description={paper.data.description}
              publishedAt={paper.data.publishedAt}
              authors={paper.data.authors}
              publication={paper.data.publication}
              tags={paper.data.tags}
            />
          ))}
        </section>
      )}
    </article>
  </main>
</HomeLayout>
